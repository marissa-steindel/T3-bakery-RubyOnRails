<h1 class="title is-3">Products Collection</h1>

<%# category filter %>
<div class="block">
  <p>Filter products by category:</p>
  <%= select_tag :category, options_from_collection_for_select(Category.all, 'id', 'name') %>
  <%# select_tag :category, options_from_collection_for_select(Category.all, 'name', 'name'), :onChange => filter_by_category() %>
  <nav class="navbar">
    <% Category.all.each do |c| %>
      <%= link_to c.name, "#", :class=>"navbar-item" %>
    <% end %>
  </nav>
</div>

<%# search form %>
<div class="block">
    <p>Search products:</p>
    <%= render "searchform" %>
</div>

<%# display cart contents %>
<% unless @cart_contents.empty?%>
  <%= link_to "Checkout", checkout_path %>
  <%# button_to "Checkout", checkout_path, method: :post %>
<% end %>
<%= render "cart_contents"%>

<%= render @products %>

<nav class="pagination">
  <p>
    <%= paginate @products %>
  </p>
</nav>